"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.OssService = void 0;
const types_1 = require("../common/languageServer/types");
const productService_1 = require("../common/services/productService");
const ossCodeActionsProvider_1 = require("./providers/ossCodeActionsProvider");
class OssService extends productService_1.ProductService {
    constructor(extensionContext, config, suggestionProvider, codeActionAdapter, codeActionKindAdapter, viewManagerService, workspace, workspaceTrust, languageServer, languages, diagnosticsIssueProvider, logger) {
        super(extensionContext, config, suggestionProvider, viewManagerService, workspace, workspaceTrust, languageServer, languages, diagnosticsIssueProvider, logger);
        this.diagnosticsIssueProvider = diagnosticsIssueProvider;
        this.productType = types_1.ScanProduct.OpenSource;
        this.registerCodeActionsProvider(new ossCodeActionsProvider_1.OssCodeActionsProvider(languages, codeActionAdapter, codeActionKindAdapter, this.result));
    }
    subscribeToLsScanMessages() {
        return this.languageServer.scan$.subscribe((scan) => {
            if (scan.product !== types_1.ScanProduct.OpenSource) {
                return;
            }
            super.handleLsScanMessage(scan);
        });
    }
    refreshTreeView() {
        this.viewManagerService.refreshOssView();
    }
}
exports.OssService = OssService;
//# sourceMappingURL=ossService.js.map